<div
  class="relative p-4 rounded-lg shadow-md hover:scale-105 transform transition duration-500 ease-in-out"
  [ngClass]="dailyTask.doneToday ? 'bg-zinc-800 opacity-80' : 'bg-indigo-700'"
>
  <!-- Botón menú -->
  <div class="absolute top-2 right-2 menu-container">
    <button (click)="toggleMenu()" class="text-gray-300 hover:text-white text-xl mr-1">
      ⋮
    </button>
    <div *ngIf="menuOpen" class="absolute right-0 mt-2 w-32 rounded-lg shadow-lg z-10" [ngClass]="dailyTask.doneToday ? 'bg-zinc-700' : 'bg-gray-800'">
      <button (click)="editDailyTask()" class="block w-full text-left px-4 py-2 hover:bg-gray-600 rounded-t-lg text-sm text-white">
        ✏️ Editar
      </button>
      <button (click)="deleteDailyTask()" class="block w-full text-left px-4 py-2 hover:bg-red-600 rounded-b-lg text-sm text-white">
        🗑 Eliminar
      </button>
    </div>
  </div>

  <!-- Contenido -->
  <h3 class="text-lg font-bold"
      [ngClass]="dailyTask.doneToday ? 'line-through text-gray-400' : 'text-white'">
    {{ dailyTask.title }}
  </h3>

  <p class="text-sm text-gray-300">{{ dailyTask.description }}</p>

  <p class="text-xs mt-2 text-gray-400">
    🔁 Repite: {{ dailyTask.recurrenceType }}
  </p>
  <p class="text-xs mt-1 text-gray-400">
    ⏱ Última vez: {{ dailyTask.lastCompletedDate || 'Nunca' }}
  </p>

  <!-- Dificultad -->
  <p class="text-xs mt-1 font-semibold"
     [ngClass]="{
       'text-green-400': dailyTask.difficulty === 'FACIL',
       'text-blue-400': dailyTask.difficulty === 'NORMAL',
       'text-orange-400': dailyTask.difficulty === 'DIFICIL',
       'text-red-400': dailyTask.difficulty === 'MUY_DIFICIL'
     }">
    🎯 {{ dailyTask.difficulty }}
  </p>

  <!-- Botones -->
  <button *ngIf="!dailyTask.doneToday"
          (click)="completeDailyTask()"
          class="mt-3 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg transition duration-300">
    Completar
  </button>
  <div *ngIf="dailyTask.doneToday" class="mt-3 text-green-400 font-semibold">
    ✅ Completada hoy
  </div>
</div>

